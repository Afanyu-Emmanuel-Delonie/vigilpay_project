
  :root {
    --red:       #8C1515;
    --red-dark:  #6A0F0F;
    --red-muted: #F5E6E6;
    --red-glow:  rgba(140,21,21,0.22);
    --navy:      #252422;
    --navy-dark: #1a1917;
    --navy-mid:  #2e2b28;
    --gold:      #C9A84C;
    --stone:     #F6F4F1;
    --stone-mid: #E8E3DC;
    --white:     #ffffff;
  }

  .page { padding: 1.75rem 2rem 3rem; display: flex; flex-direction: column; gap: 1.75rem; }

  .section-label {
    display: inline-flex; align-items: center; gap: 7px;
    font-size: 0.6rem; font-weight: 800; letter-spacing: 0.14em;
    text-transform: uppercase; color: var(--red); margin-bottom: 0.9rem;
  }
  .section-label::before { content:''; width:14px; height:2px; background:var(--red); border-radius:2px; }

  /* ── Card shell ── */
  .card {
    background: var(--white); border: 1px solid var(--stone-mid);
    border-radius: 14px; overflow: hidden;
  }
  .card-body   { padding: 1.4rem 1.5rem; }
  .card-title  { font-weight: 800; font-size: 0.9rem; color: var(--navy); margin-bottom: 2px; }
  .card-sub    { font-size: 0.7rem; color: #aaa; }
  .card-header {
    display: flex; align-items: flex-start; justify-content: space-between;
    padding: 1.1rem 1.5rem 1rem; border-bottom: 1px solid var(--stone-mid);
    flex-wrap: wrap; gap: 0.5rem;
  }

  /* ═══════════════════════════════════════
     TOP GRID — Profile + Preferences
  ═══════════════════════════════════════ */
  .top-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.25rem;
    align-items: start;
  }

  /* ═══════════════════════════════════════
     PROFILE CARD
  ═══════════════════════════════════════ */
  .profile-header {
    background: linear-gradient(160deg, #252422 0%, #1a1917 55%, #1e100f 100%);
    padding: 2rem 1.75rem 1.5rem;
    position: relative; overflow: hidden;
  }
  .profile-header::before {
    content:''; position:absolute; inset:0; pointer-events:none;
    background:
      radial-gradient(ellipse 300px 240px at 110% -10%, rgba(140,21,21,0.35) 0%, transparent 60%),
      radial-gradient(ellipse 200px 200px at -10% 110%, rgba(201,168,76,0.07) 0%, transparent 55%);
  }
  .profile-header::after {
    content:''; position:absolute; inset:0; pointer-events:none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  }
  .profile-header-inner { position:relative; z-index:2; }

  .profile-avatar-wrap {
    display: flex; align-items: flex-end; gap: 1rem; margin-bottom: 1.1rem;
  }
  .profile-avatar {
    width: 72px; height: 72px; border-radius: 16px; flex-shrink: 0;
    background: linear-gradient(135deg, var(--red) 0%, var(--red-dark) 100%);
    display: flex; align-items: center; justify-content: center;
    font-family: 'Playfair Display', serif;
    font-weight: 900; font-size: 1.6rem; color: #fff;
    border: 3px solid rgba(255,255,255,0.12);
    box-shadow: 0 8px 24px rgba(140,21,21,0.35);
  }
  .profile-online {
    width: 12px; height: 12px; border-radius: 50%;
    background: #34d399; border: 2px solid #1a1917;
    margin-bottom: 4px; flex-shrink: 0;
    box-shadow: 0 0 8px rgba(52,211,153,0.5);
    animation: pulse-green 2.2s ease-in-out infinite;
  }
  @keyframes pulse-green { 0%,100%{opacity:1;box-shadow:0 0 8px rgba(52,211,153,0.5)} 50%{opacity:0.7;box-shadow:0 0 16px rgba(52,211,153,0.8)} }

  .profile-name { font-family:'Playfair Display',serif; font-weight:900; font-size:1.3rem; color:#fff; letter-spacing:-0.02em; margin-bottom:6px; }
  .profile-email { font-size:0.72rem; color:rgba(255,255,255,0.4); margin-bottom:0.75rem; }

  .role-badge {
    display:inline-flex; align-items:center; gap:6px;
    background:rgba(140,21,21,0.3); border:1px solid rgba(140,21,21,0.4);
    color:#f87171; font-size:0.65rem; font-weight:800; letter-spacing:0.06em;
    padding:4px 11px; border-radius:999px;
  }
  .role-dot { width:5px; height:5px; border-radius:50%; background:#f87171; }

  /* Permissions list */
  .profile-body { padding: 1.1rem 1.5rem; }
  .perm-title { font-size:0.62rem; font-weight:800; letter-spacing:0.1em; text-transform:uppercase; color:#bbb; margin-bottom:0.75rem; }
  .perm-list { display:flex; flex-direction:column; gap:0.5rem; }
  .perm-row {
    display:flex; align-items:center; gap:10px;
    padding:0.6rem 0.75rem; border-radius:9px;
    background:var(--stone); border:1px solid var(--stone-mid);
    font-size:0.76rem; font-weight:600; color:var(--navy);
    transition:border-color 0.18s, background 0.18s;
  }
  .perm-row:hover { background:#fff; border-color:rgba(140,21,21,0.2); }
  .perm-icon {
    width:26px; height:26px; border-radius:7px; flex-shrink:0;
    display:flex; align-items:center; justify-content:center;
    background:rgba(140,21,21,0.1);
  }
  .perm-status {
    margin-left:auto; font-size:0.6rem; font-weight:800; padding:2px 7px;
    border-radius:4px; background:rgba(5,150,105,0.1); color:#059669;
  }

  /* Edit profile button */
  .btn-edit {
    display:flex; align-items:center; gap:7px; justify-content:center;
    width:100%; margin-top:1rem; padding:10px;
    border-radius:9px; border:1.5px solid var(--stone-mid);
    background:transparent; color:var(--navy);
    font-family:'Poppins',sans-serif; font-size:0.75rem; font-weight:700;
    cursor:pointer; transition:all 0.18s;
  }
  .btn-edit:hover { border-color:var(--red); color:var(--red); background:var(--red-muted); }

  /* ═══════════════════════════════════════
     ACCOUNT PREFERENCES (right of profile)
  ═══════════════════════════════════════ */
  .pref-section { margin-bottom: 1.25rem; }
  .pref-section:last-child { margin-bottom: 0; }
  .pref-section-title { font-size:0.62rem; font-weight:800; letter-spacing:0.1em; text-transform:uppercase; color:#bbb; margin-bottom:0.65rem; }

  .pref-row {
    display:flex; align-items:center; justify-content:space-between;
    padding:0.75rem 0; border-bottom:1px solid var(--stone-mid);
  }
  .pref-row:last-child { border-bottom:none; }
  .pref-label { font-size:0.78rem; font-weight:600; color:var(--navy); }
  .pref-desc  { font-size:0.66rem; color:#bbb; margin-top:2px; }

  /* Toggle switch */
  .toggle {
    position:relative; width:38px; height:22px; flex-shrink:0;
  }
  .toggle input { opacity:0; width:0; height:0; }
  .toggle-slider {
    position:absolute; inset:0; border-radius:99px; cursor:pointer;
    background:var(--stone-mid); transition:background 0.22s;
    border:1.5px solid transparent;
  }
  .toggle-slider::before {
    content:''; position:absolute; width:16px; height:16px; border-radius:50%;
    background:#fff; top:1px; left:1px;
    box-shadow:0 2px 6px rgba(0,0,0,0.15);
    transition:transform 0.22s cubic-bezier(0.34,1.4,0.64,1);
  }
  .toggle input:checked + .toggle-slider { background:var(--red); border-color:var(--red-dark); }
  .toggle input:checked + .toggle-slider::before { transform:translateX(16px); }

  /* Select field */
  .pref-select {
    appearance:none; -webkit-appearance:none;
    background:var(--stone) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' fill='none' viewBox='0 0 24 24'%3E%3Cpath stroke='%23aaa' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'/%3E%3C/svg%3E") no-repeat right 9px center;
    border:1.5px solid var(--stone-mid); border-radius:8px;
    padding:5px 28px 5px 10px; font-family:'Poppins',sans-serif;
    font-size:0.73rem; font-weight:600; color:var(--navy); cursor:pointer; outline:none;
    transition:border-color 0.18s;
  }
  .pref-select:focus { border-color:var(--red); }

  /* ═══════════════════════════════════════
     TEAM DIRECTORY
  ═══════════════════════════════════════ */
  .team-table { width:100%; border-collapse:collapse; }
  .team-table th {
    font-size:0.62rem; font-weight:800; letter-spacing:0.1em;
    text-transform:uppercase; color:#bbb; padding:10px 16px;
    text-align:left; border-bottom:1px solid var(--stone-mid);
    background:var(--stone);
  }
  .team-table td {
    padding:13px 16px; border-bottom:1px solid var(--stone-mid);
    font-size:0.78rem; color:var(--navy); vertical-align:middle;
  }
  .team-table tbody tr:last-child td { border-bottom:none; }
  .team-table tbody tr { transition:background 0.14s; }
  .team-table tbody tr:hover { background:var(--stone); }

  .team-av {
    width:34px; height:34px; border-radius:9px; flex-shrink:0;
    display:flex; align-items:center; justify-content:center;
    font-weight:800; font-size:0.65rem; color:#fff;
  }
  .team-name  { font-weight:700; color:var(--navy); }
  .team-email { font-size:0.65rem; color:#aaa; margin-top:1px; }

  .pillar-tag {
    display:inline-flex; align-items:center; gap:5px;
    font-size:0.65rem; font-weight:700; padding:3px 9px;
    border-radius:6px; background:var(--stone); border:1px solid var(--stone-mid);
    color:#555;
  }

  .status-indicator {
    display:inline-flex; align-items:center; gap:5px;
    font-size:0.68rem; font-weight:700;
  }
  .status-dot {
    width:7px; height:7px; border-radius:50%; flex-shrink:0;
  }
  .status-dot.online  { background:#34d399; box-shadow:0 0 6px rgba(52,211,153,0.5); animation:pulse-green 2.2s ease-in-out infinite; }
  .status-dot.away    { background:#fbbf24; }
  .status-dot.offline { background:#d1d5db; }

  .team-role-badge {
    display:inline-flex; align-items:center; gap:5px;
    font-size:0.58rem; font-weight:800; letter-spacing:0.06em;
    padding:2px 8px; border-radius:999px;
    background:var(--red-muted); color:var(--red);
    border:1px solid rgba(140,21,21,0.15);
  }

  /* ═══════════════════════════════════════
     DANGER ZONE
  ═══════════════════════════════════════ */
  .danger-card {
    background:var(--white);
    border:1.5px solid rgba(140,21,21,0.28);
    border-radius:14px; overflow:hidden;
    box-shadow:0 0 0 4px rgba(140,21,21,0.04);
  }
  .danger-header {
    display:flex; align-items:center; gap:10px;
    padding:1rem 1.5rem; border-bottom:1.5px solid rgba(140,21,21,0.15);
    background:rgba(140,21,21,0.04);
  }
  .danger-icon {
    width:32px; height:32px; border-radius:9px; flex-shrink:0;
    background:var(--red-muted); display:flex; align-items:center; justify-content:center;
  }
  .danger-title { font-weight:800; font-size:0.88rem; color:var(--red); }
  .danger-sub   { font-size:0.68rem; color:rgba(140,21,21,0.6); }

  .danger-body { padding:1.4rem 1.5rem; display:flex; flex-direction:column; gap:1rem; }

  .danger-row {
    display:flex; align-items:flex-start; justify-content:space-between; gap:1.5rem;
    padding:1.1rem 1.25rem; border-radius:11px;
    background:rgba(140,21,21,0.03); border:1px solid rgba(140,21,21,0.1);
    flex-wrap:wrap;
  }
  .danger-row-info { flex:1; min-width:0; }
  .danger-row-title { font-weight:800; font-size:0.82rem; color:var(--navy); margin-bottom:4px; }
  .danger-row-desc  { font-size:0.71rem; color:#777; line-height:1.55; }
  .danger-row-meta  { font-size:0.65rem; color:#bbb; margin-top:5px; font-family:monospace; }

  .btn-danger-outline {
    display:inline-flex; align-items:center; gap:7px; flex-shrink:0;
    padding:9px 18px; border-radius:9px;
    border:1.5px solid var(--red); background:transparent; color:var(--red);
    font-family:'Poppins',sans-serif; font-size:0.75rem; font-weight:700;
    cursor:pointer; transition:all 0.18s; white-space:nowrap;
  }
  .btn-danger-outline:hover { background:var(--red-muted); box-shadow:0 4px 14px rgba(140,21,21,0.15); }

  .btn-danger-solid {
    display:inline-flex; align-items:center; gap:7px; flex-shrink:0;
    padding:9px 18px; border-radius:9px; border:none;
    background:var(--red); color:#fff;
    font-family:'Poppins',sans-serif; font-size:0.75rem; font-weight:700;
    cursor:pointer; transition:all 0.18s; white-space:nowrap;
  }
  .btn-danger-solid:hover { background:var(--red-dark); box-shadow:0 6px 20px rgba(140,21,21,0.35); transform:translateY(-1px); }
  .btn-danger-solid:active { transform:translateY(0); }
  .btn-danger-solid:disabled { opacity:0.6; cursor:not-allowed; transform:none; }

  /* Spinner */
  .spinner {
    width:14px; height:14px; border:2px solid rgba(255,255,255,0.3);
    border-top-color:#fff; border-radius:50%;
    animation:spin 0.7s linear infinite; display:none;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  /* ═══════════════════════════════════════
     MODALS
  ═══════════════════════════════════════ */
  .modal-backdrop {
    position:fixed; inset:0; z-index:200;
    background:rgba(20,18,16,0.55); backdrop-filter:blur(6px);
    display:flex; align-items:center; justify-content:center;
    opacity:0; pointer-events:none; transition:opacity 0.25s; padding:1rem;
  }
  .modal-backdrop.open { opacity:1; pointer-events:all; }

  .modal {
    background:var(--white); border-radius:18px;
    width:100%; max-width:480px;
    box-shadow:0 32px 80px rgba(0,0,0,0.22);
    transform:translateY(14px) scale(0.98);
    transition:transform 0.3s cubic-bezier(0.34,1.2,0.64,1);
    border:1px solid var(--stone-mid); overflow:hidden;
  }
  .modal-backdrop.open .modal { transform:translateY(0) scale(1); }

  .modal-top {
    padding:1.4rem 1.5rem 1.1rem;
    border-bottom:1px solid var(--stone-mid);
    display:flex; align-items:flex-start; justify-content:space-between; gap:1rem;
  }
  .modal-icon-wrap {
    width:42px; height:42px; border-radius:11px; flex-shrink:0;
    display:flex; align-items:center; justify-content:center;
  }
  .modal-icon-wrap.red { background:var(--red-muted); }
  .modal-title-text { font-family:'Playfair Display',serif; font-weight:900; font-size:1.05rem; letter-spacing:-0.02em; margin-bottom:3px; }
  .modal-title-text.red { color:var(--red); }
  .modal-subtitle { font-size:0.7rem; color:#aaa; }

  .modal-close {
    width:30px; height:30px; border-radius:8px; border:1.5px solid var(--stone-mid);
    background:transparent; cursor:pointer; display:flex; align-items:center; justify-content:center;
    color:#aaa; transition:all 0.18s; flex-shrink:0;
  }
  .modal-close:hover { border-color:var(--red); color:var(--red); background:var(--red-muted); }

  .modal-body { padding:1.25rem 1.5rem; }
  .modal-warning {
    display:flex; gap:10px; align-items:flex-start;
    padding:0.875rem 1rem; border-radius:9px;
    background:rgba(140,21,21,0.05); border:1px solid rgba(140,21,21,0.15);
    margin-bottom:1.1rem;
  }
  .modal-warning-text { font-size:0.76rem; color:var(--navy); line-height:1.6; }
  .modal-warning-text strong { color:var(--red); }

  .modal-impact {
    display:flex; gap:0.75rem; margin-bottom:1.1rem;
  }
  .impact-item {
    flex:1; padding:0.75rem; border-radius:9px;
    background:var(--stone); border:1px solid var(--stone-mid); text-align:center;
  }
  .impact-val   { font-family:'Playfair Display',serif; font-weight:900; font-size:1.3rem; color:var(--red); }
  .impact-label { font-size:0.63rem; color:#aaa; font-weight:600; margin-top:2px; }

  /* Double-confirm input */
  .confirm-label { font-size:0.7rem; font-weight:700; color:var(--navy); margin-bottom:6px; }
  .confirm-input {
    width:100%; padding:9px 12px;
    border:1.5px solid var(--stone-mid); border-radius:9px;
    font-family:'Poppins',sans-serif; font-size:0.8rem; color:var(--navy); outline:none;
    transition:border-color 0.18s, box-shadow 0.18s;
  }
  .confirm-input:focus { border-color:var(--red); box-shadow:0 0 0 3px rgba(140,21,21,0.08); }
  .confirm-hint { font-size:0.65rem; color:#bbb; margin-top:5px; }

  .modal-footer {
    padding:1rem 1.5rem; border-top:1px solid var(--stone-mid);
    display:flex; gap:0.6rem; justify-content:flex-end;
  }
  .btn-modal-sec {
    padding:9px 18px; border-radius:9px; border:1.5px solid var(--stone-mid);
    background:transparent; color:var(--navy); font-family:'Poppins',sans-serif;
    font-size:0.78rem; font-weight:700; cursor:pointer; transition:all 0.18s;
  }
  .btn-modal-sec:hover { border-color:#aaa; }
  .btn-modal-confirm {
    padding:9px 20px; border-radius:9px; border:none;
    background:var(--stone-mid); color:#aaa; font-family:'Poppins',sans-serif;
    font-size:0.78rem; font-weight:700; cursor:not-allowed; transition:all 0.22s;
    display:flex; align-items:center; gap:7px;
  }
  .btn-modal-confirm.ready {
    background:var(--red); color:#fff; cursor:pointer;
    box-shadow:0 4px 14px rgba(140,21,21,0.25);
  }
  .btn-modal-confirm.ready:hover { background:var(--red-dark); }

  /* Retrain progress */
  .retrain-prog { display:none; margin-top:1rem; }
  .retrain-prog.visible { display:block; }
  .retrain-bar-track { height:5px; background:var(--stone-mid); border-radius:99px; overflow:hidden; margin-bottom:0.6rem; }
  .retrain-bar-fill {
    height:100%; width:0%; border-radius:99px;
    background:linear-gradient(90deg, var(--red-dark), var(--red));
    transition:width 0.3s ease;
    box-shadow:0 0 8px var(--red-glow);
  }
  .retrain-status { font-size:0.7rem; color:#aaa; font-family:monospace; }
  .retrain-status strong { color:var(--navy); }

  /* ── Responsive ── */
  @media (max-width:960px) { .top-grid { grid-template-columns:1fr; } }
  @media (max-width:640px) {
    .page { padding:1.25rem; }
    .danger-row { flex-direction:column; }
    .modal-impact { flex-direction:column; }
  }

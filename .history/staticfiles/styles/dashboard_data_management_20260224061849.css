
  :root {
    --red:       #8C1515;
    --red-dark:  #6A0F0F;
    --red-muted: #F5E6E6;
    --red-glow:  rgba(140,21,21,0.2);
    --navy:      #252422;
    --navy-dark: #1a1917;
    --navy-mid:  #2e2b28;
    --gold:      #C9A84C;
    --gold-light:#E8C97A;
    --stone:     #F6F4F1;
    --stone-mid: #E8E3DC;
    --white:     #ffffff;
  }

  .page { padding: 1.75rem 2rem 3rem; display: flex; flex-direction: column; gap: 1.5rem; }

  .section-label {
    display: inline-flex; align-items: center; gap: 7px;
    font-size: 0.6rem; font-weight: 800; letter-spacing: 0.14em;
    text-transform: uppercase; color: var(--red); margin-bottom: 0.85rem;
  }
  .section-label::before { content:''; width:14px; height:2px; background:var(--red); border-radius:2px; }

  /* ═══════════════════════════════════════
     MAIN GRID — 60 / 40 split
  ═══════════════════════════════════════ */
  .upload-grid {
    display: grid;
    grid-template-columns: 1fr 0.65fr;
    gap: 1.25rem;
    align-items: start;
  }

  /* ── Shared card shell ── */
  .card {
    background: var(--white);
    border: 1px solid var(--stone-mid);
    border-radius: 14px;
    overflow: hidden;
  }
  .card-body   { padding: 1.4rem 1.5rem; }
  .card-title  { font-weight: 800; font-size: 0.9rem; color: var(--navy); margin-bottom: 3px; }
  .card-sub    { font-size: 0.7rem; color: #aaa; }
  .card-header {
    display: flex; align-items: center; justify-content: space-between;
    padding: 1.1rem 1.5rem; border-bottom: 1px solid var(--stone-mid);
  }

  /* ═══════════════════════════════════════
     UPLOAD ZONE
  ═══════════════════════════════════════ */
  .upload-zone {
    border: 2px dashed var(--stone-mid);
    border-radius: 12px;
    background: #faf9f7;
    padding: 3rem 2rem;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    text-align: center; gap: 0.875rem;
    cursor: pointer;
    transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
    position: relative;
    min-height: 260px;
  }
  .upload-zone:hover,
  .upload-zone.dragover {
    border-color: var(--red);
    background: var(--red-muted);
    box-shadow: 0 0 0 4px rgba(140,21,21,0.06);
  }
  .upload-zone.dragover .upload-icon { color: var(--red); }

  .upload-zone input[type="file"] {
    position: absolute; inset: 0; opacity: 0; cursor: pointer; width: 100%; height: 100%;
  }

  .upload-icon { color: var(--navy); transition: color 0.2s; }

  .upload-headline {
    font-family: 'Playfair Display', serif;
    font-weight: 900; font-size: 1.1rem; color: var(--navy); letter-spacing: -0.02em;
  }
  .upload-hint { font-size: 0.75rem; color: #aaa; }
  .upload-hint a { color: var(--red); font-weight: 700; text-decoration: none; }
  .upload-hint a:hover { text-decoration: underline; }

  .upload-badges { display: flex; align-items: center; gap: 8px; }
  .badge-csv {
    font-size: 0.6rem; font-weight: 800; letter-spacing: 0.1em;
    padding: 3px 9px; border-radius: 5px;
    background: var(--navy); color: #fff;
  }
  .badge-size {
    font-size: 0.62rem; font-weight: 600; color: #aaa;
    background: var(--stone); border: 1px solid var(--stone-mid);
    padding: 3px 9px; border-radius: 5px;
  }

  /* ═══════════════════════════════════════
     PRE-FLIGHT CHECKLIST
  ═══════════════════════════════════════ */
  .preflight {
    display: none;
    border: 1px solid var(--stone-mid);
    border-radius: 12px; overflow: hidden;
    margin-top: 1rem;
    animation: slideDown 0.35s cubic-bezier(0.34,1.1,0.64,1);
  }
  .preflight.visible { display: block; }
  @keyframes slideDown { from { opacity:0; transform:translateY(-10px); } to { opacity:1; transform:translateY(0); } }

  .preflight-header {
    background: var(--stone); border-bottom: 1px solid var(--stone-mid);
    padding: 0.8rem 1.1rem;
    display: flex; align-items: center; justify-content: space-between;
  }
  .preflight-title { font-size: 0.75rem; font-weight: 800; color: var(--navy); }
  .preflight-file  { font-size: 0.68rem; color: #aaa; font-family: monospace; }

  .preflight-body { padding: 1rem 1.1rem; display: flex; flex-direction: column; gap: 0.6rem; }

  .check-row {
    display: flex; align-items: flex-start; gap: 10px;
    font-size: 0.78rem;
  }
  .check-icon {
    width: 20px; height: 20px; border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0; margin-top: 1px;
  }
  .check-icon.ok   { background: rgba(5,150,105,0.12); color: #059669; }
  .check-icon.warn { background: rgba(201,168,76,0.15); color: #92400e; }
  .check-icon.err  { background: rgba(140,21,21,0.1);  color: var(--red); }

  .check-text { color: var(--navy); font-weight: 500; line-height: 1.45; }
  .check-note { font-size: 0.67rem; color: #aaa; margin-top: 2px; }

  .preflight-meta {
    display: flex; gap: 1.5rem; margin-top: 0.25rem;
    padding-top: 0.75rem; border-top: 1px solid var(--stone-mid);
  }
  .meta-item { font-size: 0.7rem; }
  .meta-label { color: #aaa; font-weight: 600; display: block; margin-bottom: 2px; }
  .meta-value { color: var(--navy); font-weight: 800; }

  /* ── Upload submit button ── */
  .btn-upload {
    display: flex; align-items: center; gap: 8px; justify-content: center;
    width: 100%; padding: 11px;
    border-radius: 10px; border: none;
    background: linear-gradient(145deg, #2e2b28 0%, #252422 50%, #1a1917 100%);
    color: #fff; font-family: 'Poppins', sans-serif;
    font-size: 0.82rem; font-weight: 700; cursor: pointer;
    transition: box-shadow 0.2s, transform 0.2s;
    box-shadow: 0 4px 16px rgba(20,18,16,0.3);
    margin-top: 1rem;
    display: none;
  }
  .btn-upload.visible { display: flex; }
  .btn-upload:hover { box-shadow: 0 6px 24px rgba(140,21,21,0.3); background: linear-gradient(145deg, #2e2b28 0%, #271010 50%, #1e0808 100%); transform: translateY(-1px); }
  .btn-upload:active { transform: translateY(0); }

  /* ═══════════════════════════════════════
     PROCESSING VISUALIZER
  ═══════════════════════════════════════ */
  .processor { display: none; margin-top: 1rem; }
  .processor.visible { display: block; animation: slideDown 0.35s cubic-bezier(0.34,1.1,0.64,1); }

  .proc-header {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: 0.6rem;
  }
  .proc-label { font-size: 0.73rem; font-weight: 800; color: var(--navy); }
  .proc-pct   { font-size: 0.73rem; font-weight: 800; color: var(--red); }

  .proc-track {
    height: 6px; background: var(--stone-mid); border-radius: 99px; overflow: hidden; margin-bottom: 1rem;
  }
  .proc-fill {
    height: 100%; border-radius: 99px;
    background: linear-gradient(90deg, var(--red-dark), var(--red), #c0392b);
    width: 0%; transition: width 0.4s ease;
    box-shadow: 0 0 8px var(--red-glow);
  }

  /* Log terminal */
  .log-window {
    background: #0f1117;
    border-radius: 10px;
    padding: 1rem 1.1rem;
    height: 160px;
    overflow-y: auto;
    font-family: 'Courier New', Courier, monospace;
    font-size: 0.7rem;
    line-height: 1.7;
    border: 1px solid rgba(255,255,255,0.06);
    box-shadow: inset 0 2px 12px rgba(0,0,0,0.4);
    scroll-behavior: smooth;
  }
  .log-window::-webkit-scrollbar { width: 3px; }
  .log-window::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.12); border-radius: 99px; }

  .log-line { display: block; animation: logIn 0.2s ease both; }
  @keyframes logIn { from { opacity:0; } to { opacity:1; } }

  .log-info    { color: #60a5fa; }
  .log-success { color: #34d399; }
  .log-warn    { color: #fbbf24; }
  .log-error   { color: #f87171; }
  .log-dim     { color: rgba(255,255,255,0.3); }

  /* ═══════════════════════════════════════
     RIGHT COLUMN — DATA GUIDELINES
  ═══════════════════════════════════════ */
  .guidelines-list { display: flex; flex-direction: column; gap: 0; }
  .guideline-row {
    display: flex; align-items: center; gap: 12px;
    padding: 0.7rem 0; border-bottom: 1px solid var(--stone-mid);
  }
  .guideline-row:last-child { border-bottom: none; }

  .g-num {
    width: 24px; height: 24px; border-radius: 7px; flex-shrink: 0;
    background: var(--red-muted); color: var(--red);
    display: flex; align-items: center; justify-content: center;
    font-size: 0.62rem; font-weight: 800;
  }
  .g-col { font-size: 0.78rem; font-weight: 700; color: var(--navy); }
  .g-type { font-size: 0.62rem; color: #bbb; font-family: monospace; margin-top: 1px; }
  .g-req {
    margin-left: auto; font-size: 0.58rem; font-weight: 800; padding: 2px 7px;
    border-radius: 4px; white-space: nowrap;
  }
  .g-req.required { background: rgba(140,21,21,0.1); color: var(--red); }
  .g-req.optional { background: var(--stone); color: #aaa; }

  .btn-download-tpl {
    display: flex; align-items: center; gap: 7px; justify-content: center;
    width: 100%; margin-top: 1.1rem; padding: 10px;
    border-radius: 9px; border: 1.5px solid var(--stone-mid);
    background: transparent; color: var(--navy);
    font-family: 'Poppins', sans-serif; font-size: 0.75rem; font-weight: 700;
    cursor: pointer; transition: all 0.18s; text-decoration: none;
  }
  .btn-download-tpl:hover { border-color: var(--red); color: var(--red); background: var(--red-muted); }

  /* ═══════════════════════════════════════
     AUDIT TRAIL TABLE
  ═══════════════════════════════════════ */
  .table-header {
    display: flex; align-items: center; justify-content: space-between;
    flex-wrap: wrap; gap: 0.75rem;
  }

  .audit-search {
    position: relative;
  }
  .audit-search svg {
    position: absolute; left: 10px; top: 50%; transform: translateY(-50%);
    color: #bbb; pointer-events: none;
  }
  .audit-search input {
    background: var(--stone); border: 1.5px solid var(--stone-mid);
    border-radius: 9px; padding: 7px 12px 7px 32px;
    font-family: 'Poppins', sans-serif; font-size: 0.77rem;
    color: var(--navy); outline: none; width: 220px;
    transition: border-color 0.18s, box-shadow 0.18s;
  }
  .audit-search input::placeholder { color: #bbb; }
  .audit-search input:focus { border-color: var(--red); box-shadow: 0 0 0 3px rgba(140,21,21,0.08); }

  .audit-table { width: 100%; border-collapse: collapse; }
  .audit-table thead { background: var(--stone); }
  .audit-table th {
    font-size: 0.62rem; font-weight: 800; letter-spacing: 0.1em;
    text-transform: uppercase; color: #aaa; padding: 10px 16px;
    text-align: left; white-space: nowrap; border-bottom: 1px solid var(--stone-mid);
  }
  .audit-table td {
    padding: 13px 16px; font-size: 0.78rem; color: var(--navy);
    border-bottom: 1px solid var(--stone-mid); vertical-align: middle;
  }
  .audit-table tbody tr:last-child td { border-bottom: none; }
  .audit-table tbody tr { transition: background 0.14s; }
  .audit-table tbody tr:hover { background: var(--stone); }

  .file-name {
    display: flex; align-items: center; gap: 8px;
  }
  .file-icon {
    width: 30px; height: 30px; border-radius: 7px;
    background: var(--stone); border: 1px solid var(--stone-mid);
    display: flex; align-items: center; justify-content: center;
    flex-shrink: 0; color: var(--navy);
  }
  .fname { font-weight: 700; font-size: 0.78rem; color: var(--navy); font-family: monospace; }
  .fref  { font-size: 0.62rem; color: #bbb; margin-top: 1px; }

  .uploader-badge {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 0.72rem; font-weight: 600; color: #555;
  }
  .uploader-av {
    width: 22px; height: 22px; border-radius: 6px;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.55rem; font-weight: 800; color: #fff;
  }

  .status-pill {
    display: inline-flex; align-items: center; gap: 5px;
    font-size: 0.63rem; font-weight: 800; padding: 3px 10px;
    border-radius: 999px; white-space: nowrap;
  }
  .status-pill::before { content:''; width:5px; height:5px; border-radius:50%; background:currentColor; flex-shrink:0; }
  .status-pill.processed { background: rgba(5,150,105,0.1);  color: #059669; border: 1px solid rgba(5,150,105,0.15); }
  .status-pill.error     { background: rgba(140,21,21,0.1);  color: var(--red); border: 1px solid rgba(140,21,21,0.15); }
  .status-pill.pending   { background: rgba(201,168,76,0.12); color: #92400e; border: 1px solid rgba(201,168,76,0.2); }

  .btn-detail {
    font-size: 0.65rem; font-weight: 700; padding: 5px 11px;
    border-radius: 7px; border: 1.5px solid var(--stone-mid);
    background: transparent; color: var(--navy); cursor: pointer;
    transition: all 0.18s; white-space: nowrap;
  }
  .btn-detail:hover { border-color: var(--red); color: var(--red); background: var(--red-muted); }

  .btn-err-detail {
    font-size: 0.65rem; font-weight: 700; padding: 5px 11px;
    border-radius: 7px; border: 1.5px solid rgba(140,21,21,0.25);
    background: var(--red-muted); color: var(--red); cursor: pointer;
    transition: all 0.18s; white-space: nowrap;
  }
  .btn-err-detail:hover { background: #f0c0c0; border-color: var(--red); }

  /* ═══════════════════════════════════════
     ERROR MODAL
  ═══════════════════════════════════════ */
  .modal-backdrop {
    position: fixed; inset: 0; z-index: 200;
    background: rgba(20,18,16,0.55);
    backdrop-filter: blur(6px);
    display: flex; align-items: center; justify-content: center;
    opacity: 0; pointer-events: none;
    transition: opacity 0.25s;
    padding: 1rem;
  }
  .modal-backdrop.open { opacity: 1; pointer-events: all; }

  .modal {
    background: var(--white); border-radius: 18px;
    width: 100%; max-width: 560px; max-height: 85vh;
    overflow-y: auto; box-shadow: 0 32px 80px rgba(0,0,0,0.22);
    transform: translateY(16px) scale(0.98);
    transition: transform 0.3s cubic-bezier(0.34,1.2,0.64,1);
    border: 1px solid var(--stone-mid);
  }
  .modal-backdrop.open .modal { transform: translateY(0) scale(1); }

  .modal-top {
    padding: 1.4rem 1.5rem 1.1rem;
    border-bottom: 1px solid var(--stone-mid);
    display: flex; align-items: flex-start; justify-content: space-between; gap: 1rem;
  }
  .modal-icon {
    width: 42px; height: 42px; border-radius: 11px;
    background: var(--red-muted); display: flex; align-items: center;
    justify-content: center; flex-shrink: 0;
  }
  .modal-title { font-family: 'Playfair Display', serif; font-weight: 900; font-size: 1.05rem; color: var(--red); letter-spacing: -0.02em; margin-bottom: 3px; }
  .modal-file  { font-size: 0.7rem; color: #aaa; font-family: monospace; }
  .modal-close {
    width: 30px; height: 30px; border-radius: 8px; border: 1.5px solid var(--stone-mid);
    background: transparent; cursor: pointer; display: flex; align-items: center; justify-content: center;
    color: #aaa; transition: all 0.18s; flex-shrink: 0;
  }
  .modal-close:hover { border-color: var(--red); color: var(--red); background: var(--red-muted); }

  .modal-body { padding: 1.2rem 1.5rem; }
  .modal-section-title { font-size: 0.65rem; font-weight: 800; letter-spacing: 0.1em; text-transform: uppercase; color: #aaa; margin-bottom: 0.75rem; }

  .error-row {
    display: flex; align-items: flex-start; gap: 12px;
    padding: 0.75rem 0; border-bottom: 1px solid var(--stone-mid);
  }
  .error-row:last-child { border-bottom: none; }

  .err-line {
    font-size: 0.65rem; font-weight: 800; font-family: monospace;
    background: var(--red-muted); color: var(--red);
    padding: 2px 8px; border-radius: 5px; flex-shrink: 0; margin-top: 2px;
  }
  .err-col  { font-size: 0.75rem; font-weight: 700; color: var(--navy); }
  .err-desc { font-size: 0.7rem; color: #777; margin-top: 3px; line-height: 1.5; }

  .modal-summary {
    display: flex; gap: 1rem; margin-top: 1.1rem; padding-top: 1rem;
    border-top: 1px solid var(--stone-mid);
  }
  .modal-stat { flex: 1; background: var(--stone); border-radius: 9px; padding: 0.75rem 1rem; }
  .modal-stat-val { font-family: 'Playfair Display', serif; font-weight: 900; font-size: 1.3rem; color: var(--navy); }
  .modal-stat-val.red { color: var(--red); }
  .modal-stat-label { font-size: 0.65rem; color: #aaa; font-weight: 600; margin-top: 2px; }

  .modal-footer { padding: 1rem 1.5rem; border-top: 1px solid var(--stone-mid); display: flex; gap: 0.6rem; justify-content: flex-end; }
  .btn-modal-sec {
    padding: 9px 18px; border-radius: 9px; border: 1.5px solid var(--stone-mid);
    background: transparent; color: var(--navy); font-family: 'Poppins', sans-serif;
    font-size: 0.78rem; font-weight: 700; cursor: pointer; transition: all 0.18s;
  }
  .btn-modal-sec:hover { border-color: var(--stone-deep, #C4BBB0); }
  .btn-modal-pri {
    padding: 9px 20px; border-radius: 9px; border: none;
    background: var(--navy); color: #fff; font-family: 'Poppins', sans-serif;
    font-size: 0.78rem; font-weight: 700; cursor: pointer; transition: all 0.18s;
  }
  .btn-modal-pri:hover { background: var(--red); box-shadow: 0 4px 14px var(--red-glow); }

  /* ── Responsive ── */
  @media (max-width: 960px) {
    .upload-grid { grid-template-columns: 1fr; }
  }
  @media (max-width: 640px) {
    .page { padding: 1.25rem; }
    .audit-search input { width: 160px; }
  }

